import React from 'react'
import CSSModules from 'react-css-modules'

import styles from './works.css'

import works from './works.json.js'

import WorksShow from '../worksShow'

const Works = ()=>{
	let worksShow = null;

	const worksDom = works.map(work=>{
		const src = `asset/img/works/${work.img}`

		return (
			<div styleName="gallery">
				<div styleName="card"> 
					<img src={src} onClick={(e)=>{
						e.preventDefault()
						worksShow.open(src)

						//TODO safari bug
						document.body.style.overflowY = "hidden"
					}}/>
					<div styleName="info">
						{(work.behance || work.dribbble) ? <a 
							styleName="behanceTitle" 
							href={work.behance || work.dribbble}>
								{work.title}
							</a>
						: <a 
							styleName="title"> 
								{work.title}
						</a>}
						{work.behance && <a href={work.behance}><svg fill="#5EB7F1" xmlns="http://www.w3.org/2000/svg" width="25" height="100%" viewBox="0 0 46 29">
							<path d="M13.1 0c1.3 0 2.5 0.1 3.6 0.4c1.1 0.2 2 0.6 2.8 1.1c0.8 0.5 1.4 1.2 1.8 2.1c0.4 0.9 0.6 2 0.6 3.2 c0 1.4-0.3 2.6-1 3.5c-0.6 0.9-1.6 1.7-2.8 2.3c1.7 0.5 3 1.4 3.8 2.6c0.8 1.2 1.3 2.7 1.3 4.4c0 1.4-0.3 2.6-0.8 3.6 c-0.5 1-1.3 1.9-2.2 2.5c-0.9 0.6-2 1.1-3.2 1.4c-1.2 0.3-2.4 0.5-3.6 0.5H0V0H13.1z M12.3 11.2c1.1 0 2-0.3 2.7-0.8 c0.7-0.5 1-1.4 1-2.5c0-0.6-0.1-1.2-0.3-1.6c-0.2-0.4-0.5-0.7-0.9-1c-0.4-0.2-0.8-0.4-1.3-0.5c-0.5-0.1-1-0.1-1.6-0.1H6.1v6.5 H12.3z M12.6 23c0.6 0 1.2-0.1 1.7-0.2c0.5-0.1 1-0.3 1.4-0.6c0.4-0.3 0.7-0.6 1-1.1c0.2-0.5 0.4-1.1 0.4-1.8 c0-1.4-0.4-2.4-1.2-3.1c-0.8-0.6-1.9-0.9-3.2-0.9H6.1V23H12.6z"></path>
						    <path d="M31.9 22.9c0.8 0.8 2 1.2 3.6 1.2c1.1 0 2.1-0.3 2.9-0.8c0.8-0.6 1.3-1.2 1.5-1.8h4.9c-0.8 2.4-2 4.1-3.6 5.2 c-1.6 1-3.5 1.6-5.8 1.6c-1.6 0-3-0.3-4.3-0.8c-1.3-0.5-2.3-1.2-3.2-2.2c-0.9-0.9-1.6-2-2-3.3c-0.5-1.3-0.7-2.7-0.7-4.3 c0-1.5 0.2-2.9 0.7-4.2c0.5-1.3 1.2-2.4 2.1-3.4c0.9-0.9 2-1.7 3.2-2.2c1.3-0.5 2.6-0.8 4.2-0.8c1.7 0 3.2 0.3 4.5 1 c1.3 0.7 2.3 1.5 3.1 2.7c0.8 1.1 1.4 2.4 1.8 3.8C45 16 45.1 17.4 45 19H30.5C30.5 20.6 31.1 22.1 31.9 22.9z M38.2 12.4 c-0.7-0.7-1.8-1.1-3.1-1.1c-0.9 0-1.6 0.2-2.2 0.5c-0.6 0.3-1 0.7-1.4 1.1c-0.4 0.4-0.6 0.9-0.7 1.4c-0.1 0.5-0.2 0.9-0.2 1.3h9 C39.4 14.1 38.9 13.1 38.2 12.4z"></path>
		    				<rect x="29.4" y="1.9" width="11.2" height="2.7"></rect>
						</svg></a>}

						{work.dribbble && <a href={work.dribbble}><svg width="26px" height="26px" viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg">
						    <g id="web2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
						        <g id="works" transform="translate(-804.000000, -446.000000)" stroke="#ED407B" fill="#ED407B">
						            <g id="Group-Copy-2" transform="translate(345.000000, 257.000000)">
						                <path d="M475.864835,203.238659 C476.517479,205.615741 477.155693,207.94004 477.815897,210.344631 C480.127898,208.682771 481.50328,206.498937 482.02141,203.679655 C479.946656,203.079453 477.928766,202.945521 475.864835,203.238659 M474.364731,199.837228 C474.468323,200.076036 474.673616,200.455482 474.798682,200.859686 C474.976661,201.434443 475.332961,201.530722 475.894899,201.511982 C477.204139,201.468656 478.517675,201.484646 479.826744,201.540178 C480.580403,201.572157 481.328909,201.728096 482.178258,201.841225 C482.049584,199.498873 481.391442,197.479746 480.071894,195.887001 C478.129764,197.231309 476.271127,198.517849 474.364731,199.837228 M473.49408,197.999485 C475.498227,197.178699 477.302577,196.151083 478.63879,194.434379 C476.621586,192.295418 472.096365,191.172381 469.812367,192.210313 C471.01939,194.10823 472.225211,196.004429 473.49408,197.999485 M462.022719,199.88554 C465.232172,199.846684 468.259179,199.472568 471.423105,198.629947 C470.132247,196.622855 468.910449,194.722874 467.671644,192.796589 C464.680713,194.338958 462.857637,196.60463 462.022719,199.88554 M461.836667,201.778643 C461.763139,204.488406 462.646846,206.730696 464.372344,208.764437 C466.554469,205.525134 469.297672,203.1594 473.01718,201.951603 C472.815151,201.504589 472.68579,201.090586 472.450433,200.749996 C472.329661,200.575144 471.983153,200.398058 471.800537,200.448089 C468.584556,201.330598 465.298312,201.678409 461.836667,201.778643 M473.890237,203.73897 C470.437009,204.780513 467.030681,207.489244 465.81524,210.079861 C466.051285,210.252993 466.288532,210.452774 466.549315,210.614902 C469.006825,212.141282 471.653481,212.573854 474.454923,211.878404 C476.328163,211.413338 475.992134,211.452709 475.628618,209.953838 C475.126293,207.882272 474.486189,205.844062 473.890237,203.73897 M471.970269,214 C465.369435,213.99914 460.011529,208.643228 460.000019,202.034129 C459.988337,195.388925 465.364625,189.996391 471.997756,190.000002 C478.568526,190.003612 483.982952,195.40629 483.999959,201.976189 C484.017139,208.582021 478.595669,214.000688 471.970269,214" id="dribbble"></path>
						            </g>
						        </g>
						    </g>
						</svg></a>}
					</div>
				</div>
			</div>
		)
	})

	return (
		<div>
			<WorksShow ref={dom=>{worksShow=dom}}/>
			{worksDom}
		</div>
	)
}

export default CSSModules(Works, styles)