<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Swift vs Kotlin</title>

  <link rel="stylesheet" href="../github.css">

  <style>
    .container {
      display: flex;
    }

    nav {
      position: fixed;
      /* Fixed Sidebar (stay in place on scroll) */
      z-index: 1;
      /* Stay on top */
      top: 0;
      /* Stay at the top */
      left: 0;
      bottom: 0;
      background: white;
      overflow-y: scroll;
      width: 300px;
      padding-left: 10px;
    }

    .right-cnt {
      margin-left: 300px;
      margin-top: 100px;
    }

    nav ul {
      padding: 0;
      margin: 0;
    }

    .content {
      max-width: 768px;
      margin: 0 auto;
      padding: 0 20px;
    }


    .hljs {
      border-radius: 5px;
      padding: 1em;
    }

    .anchor {
      position: absolute;
    }

    .anchor:after {
      position: absolute;
      display: none;
      opacity: .5;
      margin-top: 2px;
      margin-left: 5px;
      width: 16px;
      height: 16px;
      background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACxQAAAsUBidZ/7wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEqSURBVDiNjdM9S1xRFIXhB8QoihZ+DRoJjlPYWAy2qQSbBFv/gOlT2CuKf0BSphe0EAVBBAvRJlYxghrRQqNgFXEQK5tr4Wa4XO44t9jNXme9h732OZIk0azQigVc4wFr+JQkiSLmduwiyVQNlSKA72G4xzTK2IneZhHAGH6ikupVAvC/KaAB9HMAbhodmMUv3GEdgymtB8cB+JE1dmAjJ7Ct0HtT5nN0pc2d2K/PxgxGsIxJ9OEk9DOU6msM80GItxFSFd9ijV9xEfopBlIX+4DDEP9hNITt6D2nRvmN/szYFuuJUk4J4/gT2hNW0JYTuMs49KXBRkpoeWelagEYypjmMVzgTdgLwCo+Ygp/ozdXBDCBl5zdH6G7KSAoVW8/7hFXWMoLLK9eAaRNvta9bjm9AAAAAElFTkSuQmCC937405abf7d2fa1cd5d9079c2e5160ac);
      background-repeat: no-repeat;
      content: '';
    }

    h1:hover .anchor:after,
    h2:hover .anchor:after,
    h3:hover .anchor:after,
    h4:hover .anchor:after,
    h5:hover .anchor:after {
      display: block;
    }

    h2 {
      margin: 10px 0;
    }

    h3,
    h4,
    h5 {
      margin: 5px 0 0;
      color: #555;
      font-weight: 400;
    }

    .sticky-row {
      position: sticky;
      position: -webkit-sticky;
      left: 0;
      top: 0;
      z-index: 3;
      background: white;
      text-align: center;
    }

    ul {
      list-style-type: none;
    }

    .chapter-1 {
      padding: 0;
      margin-top: 15px;
    }

    .chapter-2 {
      padding-left: 15px;
      margin: 5px 0;
    }

    ul a {
      text-decoration: none;
    }


    .sticky-row>div {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
    }

    table {
      table-layout: fixed;
      width: 100%;
    }

    img {
      width: 30px;
      display: none;
    }

    .from-aspect {
      margin-bottom: 20px;
    }

    nav ol a,
    nav ol a:visited {
      color: #333;
    }

    td {
      vertical-align: top;
    }

    pre {
      margin: 0;
    }

    .from-aspect a {
      display: block;
    }
  </style>
</head>

<body>
  <nav>
    <h1><img width="60px" src="https://cdn4.iconfinder.com/data/icons/logos-3/504/Swift-2-512.png" alt="Swift" />Swift vs <img src="https://upload.wikimedia.org/wikipedia/commons/7/74/Kotlin-logo.svg" alt="Kotlin" />Kotlin</h1>

    <div class="from-aspect">
      <a href="/swift-vs-kotlin/fromswift/WELCOME TO SWIFT_A Swift Tour.html">From Swift View (5.3)</a>
      <a href="/swift-vs-kotlin/fromkotlin/Getting Started_Basic Syntax.html">From Kotlin View (1.4.30)</a><br />
    </div>
    <div class="capters">
      <ul>
      
          <ol class="chapter-1"> Getting Started </ol>
          <ul>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Getting Started_Basic Syntax.html">
                  Basic Syntax
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Getting Started_Idioms.html">
                  Idioms
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Getting Started_Coding Conventions.html">
                  Coding Conventions
                </a>
              </ol>
            
          </ul>
      
          <ol class="chapter-1"> Basics </ol>
          <ul>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Basics_Basic Types.html">
                  Basic Types
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Basics_Packages and Imports.html">
                  Packages and Imports
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Basics_Control Flow.html">
                  Control Flow
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Basics_Returns and Jumps.html">
                  Returns and Jumps
                </a>
              </ol>
            
          </ul>
      
          <ol class="chapter-1"> Classes and Objects </ol>
          <ul>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Classes and Objects_Classes and Inheritance.html">
                  Classes and Inheritance
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Classes and Objects_Properties and Fields.html">
                  Properties and Fields
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Classes and Objects_Interfaces.html">
                  Interfaces
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Classes and Objects_Functional (SAM) Interfaces.html">
                  Functional (SAM) Interfaces
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Classes and Objects_Visibility Modifiers.html">
                  Visibility Modifiers
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Classes and Objects_Extensions.html">
                  Extensions
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Classes and Objects_Data Classes.html">
                  Data Classes
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Classes and Objects_Sealed Classes.html">
                  Sealed Classes
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Classes and Objects_Nested Classes.html">
                  Nested Classes
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Classes and Objects_Enum Classes.html">
                  Enum Classes
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Classes and Objects_Objects.html">
                  Objects
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Classes and Objects_Type Aliases.html">
                  Type Aliases
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Classes and Objects_Inline Classes.html">
                  Inline Classes
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Classes and Objects_Delegation.html">
                  Delegation
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Classes and Objects_Delegated Properties.html">
                  Delegated Properties
                </a>
              </ol>
            
          </ul>
      
          <ol class="chapter-1"> Functions and Lambdas </ol>
          <ul>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Functions and Lambdas_Lambdas.html">
                  Lambdas
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Functions and Lambdas_Inline Functions.html">
                  Inline Functions
                </a>
              </ol>
            
          </ul>
      
          <ol class="chapter-1"> Collections </ol>
          <ul>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Collections Overview.html">
                  Collections Overview
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Constructing Collections.html">
                  Constructing Collections
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Iterators.html">
                  Iterators
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Ranges and Progressions.html">
                  Ranges and Progressions
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Sequences.html">
                  Sequences
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Operations Overview.html">
                  Operations Overview
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Transformations.html">
                  Transformations
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Filtering.html">
                  Filtering
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Plus and Minus Operators.html">
                  Plus and Minus Operators
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Grouping.html">
                  Grouping
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Retrieving Collection Parts.html">
                  Retrieving Collection Parts
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Retrieving Single Elements.html">
                  Retrieving Single Elements
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Ordering.html">
                  Ordering
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Aggregate Operations.html">
                  Aggregate Operations
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Collection Write Operations.html">
                  Collection Write Operations
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_List Specific Operations.html">
                  List Specific Operations
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Set Specific Operations.html">
                  Set Specific Operations
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Collections_Map Specific Operations.html">
                  Map Specific Operations
                </a>
              </ol>
            
          </ul>
      
          <ol class="chapter-1"> Coroutines </ol>
          <ul>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Coroutines_Basics.html">
                  Basics
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Coroutines_Cancellation and Timeouts.html">
                  Cancellation and Timeouts
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Coroutines_Composing Suspending Functions.html">
                  Composing Suspending Functions
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Coroutines_Coroutine Context and Dispatchers.html">
                  Coroutine Context and Dispatchers
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Coroutines_Asynchronous Flow.html">
                  Asynchronous Flow
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Coroutines_Channels.html">
                  Channels
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Coroutines_Exception Handling and Supervision.html">
                  Exception Handling and Supervision
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Coroutines_Shared Mutable State and Concurrency.html">
                  Shared Mutable State and Concurrency
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/Coroutines_Select Expression (experimental).html">
                  Select Expression (experimental)
                </a>
              </ol>
            
          </ul>
      
          <ol class="chapter-1"> More Language Constructs </ol>
          <ul>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/More Language Constructs_Destructuring Declarations.html">
                  Destructuring Declarations
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/More Language Constructs_Type Checks and Casts.html">
                  Type Checks and Casts
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/More Language Constructs_This expressions.html">
                  This expressions
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/More Language Constructs_Equality.html">
                  Equality
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/More Language Constructs_Operator overloading.html">
                  Operator overloading
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/More Language Constructs_Null Safety.html">
                  Null Safety
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/More Language Constructs_Exceptions.html">
                  Exceptions
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/More Language Constructs_Annotations.html">
                  Annotations
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/More Language Constructs_Reflection.html">
                  Reflection
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/More Language Constructs_Serialization.html">
                  Serialization
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/More Language Constructs_Scope Functions.html">
                  Scope Functions
                </a>
              </ol>
            
              <ol class="chapter-2">-&nbsp
                <a href="/swift-vs-kotlin/fromkotlin/More Language Constructs_Type-Safe Builders.html">
                  Type-Safe Builders
                </a>
              </ol>
            
          </ul>
      
      </ul>
    </div>
  </nav>

  <div class="container">
    <div class="right-cnt">
      <table>

        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Representing multiple values
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html#representing-multiple-values" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun simple(): List&#60;Int&#62; = listOf(1, 2, 3)
 
fun main() {
    simple().forEach { value -&#62; println(value) } 
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func simple(): List&#60;Int&#62; = [1, 2, 3]
 
func main() {
    simple().forEach { value -&#62; print(value) } 
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Sequences
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun simple(): Sequence&#60;Int&#62; = sequence { // sequence builder
    for (i in 1..3) {
        Thread.sleep(100) // pretend we are computing it
        yield(i) // yield next value
    }
}
&#8203;
fun main() {
    simple().forEach { value -&#62; println(value) } 
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func simple(): Sequence&#60;Int&#62; = sequence { // sequence builder
    for (i in 1..3) {
        Thread.sleep(100) // pretend we are computing it
        yield(i) // yield next value
    }
}
&#8203;
func main() {
    simple().forEach { value -&#62; print(value) } 
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Suspending functions
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">suspend fun simple(): List&#60;Int&#62; {
    delay(1000) // pretend we are doing something asynchronous here
    return listOf(1, 2, 3)
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple().forEach { value -&#62; println(value) } 
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">suspend func simple(): List&#60;Int&#62; {
    delay(1000) // pretend we are doing something asynchronous here
    return [1, 2, 3]
}
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    simple().forEach { value -&#62; print(value) } 
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Flows
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow { // flow builder
    for (i in 1..3) {
        delay(100) // pretend we are doing something useful here
        emit(i) // emit next value
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    // Launch a concurrent coroutine to check if the main thread is blocked
    launch {
        for (k in 1..3) {
            println("I'm not blocked $k")
            delay(100)
        }
    }
    // Collect the flow
    simple().collect { value -&#62; println(value) } 
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func simple(): Flow&#60;Int&#62; = flow { // flow builder
    for (i in 1..3) {
        delay(100) // pretend we are doing something useful here
        emit(i) // emit next value
    }
}
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    // Launch a concurrent coroutine to check if the main thread is blocked
    launch {
        for (k in 1..3) {
            print("I'm not blocked $k")
            delay(100)
        }
    }
    // Collect the flow
    simple().collect { value -&#62; print(value) } 
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Flows are cold
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html#flows-are-cold" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow { 
    println("Flow started")
    for (i in 1..3) {
        delay(100)
        emit(i)
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    println("Calling simple function...")
    val flow = simple()
    println("Calling collect...")
    flow.collect { value -&#62; println(value) } 
    println("Calling collect again...")
    flow.collect { value -&#62; println(value) } 
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func simple(): Flow&#60;Int&#62; = flow { 
    print("Flow started")
    for (i in 1..3) {
        delay(100)
        emit(i)
    }
}
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    print("Calling simple function...")
    let flow = simple()
    print("Calling collect...")
    flow.collect { value -&#62; print(value) } 
    print("Calling collect again...")
    flow.collect { value -&#62; print(value) } 
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Flow cancellation basics
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html#flow-cancellation-basics" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow { 
    for (i in 1..3) {
        delay(100)          
        println("Emitting $i")
        emit(i)
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    withTimeoutOrNull(250) { // Timeout after 250ms 
        simple().collect { value -&#62; println(value) } 
    }
    println("Done")
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func simple(): Flow&#60;Int&#62; = flow { 
    for (i in 1..3) {
        delay(100)          
        print("Emitting $i")
        emit(i)
    }
}
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    withTimeoutOrNull(250) { // Timeout after 250ms 
        simple().collect { value -&#62; print(value) } 
    }
    print("Done")
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Flow builders
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html#flow-builders" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">// Convert an integer range to a flow
(1..3).asFlow().collect { value -&#62; println(value) }</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">// Convert an integer range to a flow
(1..3).asFlow().collect { value -&#62; print(value) }</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Intermediate flow operators
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html#intermediate-flow-operators" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">suspend fun performRequest(request: Int): String {
    delay(1000) // imitate long-running asynchronous work
    return "response $request"
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    (1..3).asFlow() // a flow of requests
        .map { request -&#62; performRequest(request) }
        .collect { response -&#62; println(response) }
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">suspend func performRequest(request: Int) -&#62; String {
    delay(1000) // imitate long-running asynchronous work
    return "response $request"
}
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    (1..3).asFlow() // a flow of requests
        .map { request -&#62; performRequest(request) }
        .collect { response -&#62; print(response) }
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Transform operator
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">(1..3).asFlow() // a flow of requests
    .transform { request -&#62;
        emit("Making request $request") 
        emit(performRequest(request)) 
    }
    .collect { response -&#62; println(response) }</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">(1..3).asFlow() // a flow of requests
    .transform { request -&#62;
        emit("Making request $request") 
        emit(performRequest(request)) 
    }
    .collect { response -&#62; print(response) }</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Size-limiting operators
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun numbers(): Flow&#60;Int&#62; = flow {
    try {                          
        emit(1)
        emit(2) 
        println("This line will not execute")
        emit(3)    
    } finally {
        println("Finally in numbers")
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    numbers() 
        .take(2) // take only the first two
        .collect { value -&#62; println(value) }
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func numbers(): Flow&#60;Int&#62; = flow {
    try {                          
        emit(1)
        emit(2) 
        print("This line will not execute")
        emit(3)    
    } finally {
        print("Finally in numbers")
    }
}
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    numbers() 
        .take(2) // take only the first two
        .collect { value -&#62; print(value) }
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Terminal flow operators
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html#terminal-flow-operators" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">&#8203;
val sum = (1..5).asFlow()
    .map { it * it } // squares of numbers from 1 to 5                           
    .reduce { a, b -&#62; a + b } // sum them (terminal operator)
println(sum)</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">&#8203;
let sum = (1..5).asFlow()
    .map { $0 * $0 } // squares of numbers from 1 to 5                           
    .reduce { a, b -&#62; a + b } // sum them (terminal operator)
print(sum)
</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Flows are sequential
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html#flows-are-sequential" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">&#8203;
(1..5).asFlow()
    .filter {
        println("Filter $it")
        it % 2 == 0              
    }              
    .map { 
        println("Map $it")
        "string $it"
    }.collect { 
        println("Collect $it")
    }</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">&#8203;
(1..5).asFlow()
    .filter {
        print("Filter $it")
        $0 % 2 == 0              
    }
    .map {
        print("Map $it")
        "string $it"
    }.collect {
        print("Collect $it")
    }
</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Flow context
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html#flow-context" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">withContext(context) {
    simple().collect { value -&#62;
        println(value) // run in the specified context 
    }
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">withContext(context) {
    simple().collect { value -&#62;
        print(value) // run in the specified context 
    }
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow {
    log("Started simple flow")
    for (i in 1..3) {
        emit(i)
    }
}  
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple().collect { value -&#62; log("Collected $value") } 
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func simple(): Flow&#60;Int&#62; = flow {
    log("Started simple flow")
    for (i in 1..3) {
        emit(i)
    }
}  
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    simple().collect { value -&#62; log("Collected $value") } 
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Wrong emission withContext
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow {
    // The WRONG way to change context for CPU-consuming code in flow builder
    kotlinx.coroutines.withContext(Dispatchers.Default) {
        for (i in 1..3) {
            Thread.sleep(100) // pretend we are computing it in CPU-consuming way
            emit(i) // emit next value
        }
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple().collect { value -&#62; println(value) } 
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func simple(): Flow&#60;Int&#62; = flow {
    // The WRONG way to change context for CPU-consuming code in flow builder
    kotlinx.coroutines.withContext(Dispatchers.Default) {
        for (i in 1..3) {
            Thread.sleep(100) // pretend we are computing it in CPU-consuming way
            emit(i) // emit next value
        }
    }
}
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    simple().collect { value -&#62; print(value) } 
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                flowOn operator
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow {
    for (i in 1..3) {
        Thread.sleep(100) // pretend we are computing it in CPU-consuming way
        log("Emitting $i")
        emit(i) // emit next value
    }
}.flowOn(Dispatchers.Default) // RIGHT way to change context for CPU-consuming code in flow builder
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple().collect { value -&#62;
        log("Collected $value") 
    } 
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func simple(): Flow&#60;Int&#62; = flow {
    for (i in 1..3) {
        Thread.sleep(100) // pretend we are computing it in CPU-consuming way
        log("Emitting $i")
        emit(i) // emit next value
    }
}.flowOn(Dispatchers.Default) // RIGHT way to change context for CPU-consuming code in flow builder
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    simple().collect { value -&#62;
        log("Collected $value") 
    } 
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Buffering
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html#buffering" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow {
    for (i in 1..3) {
        delay(100) // pretend we are asynchronously waiting 100 ms
        emit(i) // emit next value
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; { 
    val time = measureTimeMillis {
        simple().collect { value -&#62; 
            delay(300) // pretend we are processing it for 300 ms
            println(value) 
        } 
    }   
    println("Collected in $time ms")
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func simple(): Flow&#60;Int&#62; = flow {
    for (i in 1..3) {
        delay(100) // pretend we are asynchronously waiting 100 ms
        emit(i) // emit next value
    }
}
&#8203;
func main() = runBlocking&#60;Unit&#62; { 
    let time = measureTimeMillis {
        simple().collect { value -&#62; 
            delay(300) // pretend we are processing it for 300 ms
            print(value) 
        } 
    }   
    print("Collected in $time ms")
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">val time = measureTimeMillis {
    simple()
        .buffer() // buffer emissions, don't wait
        .collect { value -&#62; 
            delay(300) // pretend we are processing it for 300 ms
            println(value) 
        } 
}   
println("Collected in $time ms")</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">let time = measureTimeMillis {
    simple()
        .buffer() // buffer emissions, don't wait
        .collect { value -&#62; 
            delay(300) // pretend we are processing it for 300 ms
            print(value) 
        } 
}   
print("Collected in $time ms")</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Conflation
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">val time = measureTimeMillis {
    simple()
        .conflate() // conflate emissions, don't process each one
        .collect { value -&#62; 
            delay(300) // pretend we are processing it for 300 ms
            println(value) 
        } 
}   
println("Collected in $time ms")</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">let time = measureTimeMillis {
    simple()
        .conflate() // conflate emissions, don't process each one
        .collect { value -&#62; 
            delay(300) // pretend we are processing it for 300 ms
            print(value) 
        } 
}   
print("Collected in $time ms")</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Processing the latest value
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">val time = measureTimeMillis {
    simple()
        .collectLatest { value -&#62; // cancel &#38; restart on the latest value
            println("Collecting $value") 
            delay(300) // pretend we are processing it for 300 ms
            println("Done $value") 
        } 
}   
println("Collected in $time ms")</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">let time = measureTimeMillis {
    simple()
        .collectLatest { value -&#62; // cancel &#38; restart on the latest value
            print("Collecting $value") 
            delay(300) // pretend we are processing it for 300 ms
            print("Done $value") 
        } 
}   
print("Collected in $time ms")</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Zip
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">&#8203;
val nums = (1..3).asFlow() // numbers 1..3
val strs = flowOf("one", "two", "three") // strings 
nums.zip(strs) { a, b -&#62; "$a -&#62; $b" } // compose a single string
    .collect { println(it) } // collect and print</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">&#8203;
let nums = (1..3).asFlow() // numbers 1..3
let strs = flowOf("one", "two", "three") // strings 
nums.zip(strs) { a, b -&#62; "$a -&#62; $b" } // compose a single string
    .collect { print(it) } // collect and print</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Combine
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">&#8203;
val nums = (1..3).asFlow().onEach { delay(300) } // numbers 1..3 every 300 ms
val strs = flowOf("one", "two", "three").onEach { delay(400) } // strings every 400 ms
val startTime = System.currentTimeMillis() // remember the start time 
nums.zip(strs) { a, b -&#62; "$a -&#62; $b" } // compose a single string with "zip"
    .collect { value -&#62; // collect and print 
        println("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">&#8203;
let nums = (1..3).asFlow().onEach { delay(300) } // numbers 1..3 every 300 ms
let strs = flowOf("one", "two", "three").onEach { delay(400) } // strings every 400 ms
let startTime = System.currentTimeMillis() // remember the start time 
nums.zip(strs) { a, b -&#62; "$a -&#62; $b" } // compose a single string with "zip"
    .collect { value -&#62; // collect and print 
        print("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">&#8203;
val nums = (1..3).asFlow().onEach { delay(300) } // numbers 1..3 every 300 ms
val strs = flowOf("one", "two", "three").onEach { delay(400) } // strings every 400 ms          
val startTime = System.currentTimeMillis() // remember the start time 
nums.combine(strs) { a, b -&#62; "$a -&#62; $b" } // compose a single string with "combine"
    .collect { value -&#62; // collect and print 
        println("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">&#8203;
let nums = (1..3).asFlow().onEach { delay(300) } // numbers 1..3 every 300 ms
let strs = flowOf("one", "two", "three").onEach { delay(400) } // strings every 400 ms          
let startTime = System.currentTimeMillis() // remember the start time 
nums.combine(strs) { a, b -&#62; "$a -&#62; $b" } // compose a single string with "combine"
    .collect { value -&#62; // collect and print 
        print("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Flattening flows
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html#flattening-flows" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun requestFlow(i: Int): Flow&#60;String&#62; = flow {
    emit("$i: First") 
    delay(500) // wait 500 ms
    emit("$i: Second")    
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func requestFlow(i: Int): Flow&#60;String&#62; = flow {
    emit("$i: First") 
    delay(500) // wait 500 ms
    emit("$i: Second")    
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">(1..3).asFlow().map { requestFlow(it) }</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">(1..3).asFlow().map { requestFlow(it) }</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                flatMapConcat
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">val startTime = System.currentTimeMillis() // remember the start time 
(1..3).asFlow().onEach { delay(100) } // a number every 100 ms 
    .flatMapConcat { requestFlow(it) }                                                                           
    .collect { value -&#62; // collect and print 
        println("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">let startTime = System.currentTimeMillis() // remember the start time 
(1..3).asFlow().onEach { delay(100) } // a number every 100 ms 
    .flatMapConcat { requestFlow(it) }                                                                           
    .collect { value -&#62; // collect and print 
        print("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                flatMapMerge
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">val startTime = System.currentTimeMillis() // remember the start time 
(1..3).asFlow().onEach { delay(100) } // a number every 100 ms 
    .flatMapMerge { requestFlow(it) }                                                                           
    .collect { value -&#62; // collect and print 
        println("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">let startTime = System.currentTimeMillis() // remember the start time 
(1..3).asFlow().onEach { delay(100) } // a number every 100 ms 
    .flatMapMerge { requestFlow(it) }                                                                           
    .collect { value -&#62; // collect and print 
        print("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                flatMapLatest
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">val startTime = System.currentTimeMillis() // remember the start time 
(1..3).asFlow().onEach { delay(100) } // a number every 100 ms 
    .flatMapLatest { requestFlow(it) }                                                                           
    .collect { value -&#62; // collect and print 
        println("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">let startTime = System.currentTimeMillis() // remember the start time 
(1..3).asFlow().onEach { delay(100) } // a number every 100 ms 
    .flatMapLatest { requestFlow(it) }                                                                           
    .collect { value -&#62; // collect and print 
        print("$value at ${System.currentTimeMillis() - startTime} ms from start") 
    }</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Collector try and catch
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow {
    for (i in 1..3) {
        println("Emitting $i")
        emit(i) // emit next value
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    try {
        simple().collect { value -&#62;         
            println(value)
            check(value &#60;= 1) { "Collected $value" }
        }
    } catch (e: Throwable) {
        println("Caught $e")
    } 
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func simple(): Flow&#60;Int&#62; = flow {
    for (i in 1..3) {
        print("Emitting $i")
        emit(i) // emit next value
    }
}
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    try {
        simple().collect { value -&#62;         
            print(value)
            check(value &#60;= 1) { "Collected $value" }
        }
    } catch (e: Throwable) {
        print("Caught $e")
    } 
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Everything is caught
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun simple(): Flow&#60;String&#62; = 
    flow {
        for (i in 1..3) {
            println("Emitting $i")
            emit(i) // emit next value
        }
    }
    .map { value -&#62;
        check(value &#60;= 1) { "Crashed on $value" }                 
        "string $value"
    }
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    try {
        simple().collect { value -&#62; println(value) }
    } catch (e: Throwable) {
        println("Caught $e")
    } 
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func simple(): Flow&#60;String&#62; = 
    flow {
        for (i in 1..3) {
            print("Emitting $i")
            emit(i) // emit next value
        }
    }
    .map { value -&#62;
        check(value &#60;= 1) { "Crashed on $value" }                 
        "string $value"
    }
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    try {
        simple().collect { value -&#62; print(value) }
    } catch (e: Throwable) {
        print("Caught $e")
    } 
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Exception transparency
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html#exception-transparency" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">simple()
    .catch { e -&#62; emit("Caught $e") } // emit on exception
    .collect { value -&#62; println(value) }</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">simple()
    .catch { e -&#62; emit("Caught $e") } // emit on exception
    .collect { value -&#62; print(value) }</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Transparent catch
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow {
    for (i in 1..3) {
        println("Emitting $i")
        emit(i)
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple()
        .catch { e -&#62; println("Caught $e") } // does not catch downstream exceptions
        .collect { value -&#62;
            check(value &#60;= 1) { "Collected $value" }                 
            println(value) 
        }
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func simple(): Flow&#60;Int&#62; = flow {
    for (i in 1..3) {
        print("Emitting $i")
        emit(i)
    }
}
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    simple()
        .catch { e -&#62; print("Caught $e") } // does not catch downstream exceptions
        .collect { value -&#62;
            check(value &#60;= 1) { "Collected $value" }                 
            print(value) 
        }
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Catching declaratively
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">simple()
    .onEach { value -&#62;
        check(value &#60;= 1) { "Collected $value" }                 
        println(value) 
    }
    .catch { e -&#62; println("Caught $e") }
    .collect()</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">simple()
    .onEach { value -&#62;
        check(value &#60;= 1) { "Collected $value" }                 
        print(value) 
    }
    .catch { e -&#62; print("Caught $e") }
    .collect()</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Imperative finally block
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun simple(): Flow&#60;Int&#62; = (1..3).asFlow()
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    try {
        simple().collect { value -&#62; println(value) }
    } finally {
        println("Done")
    }
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func simple(): Flow&#60;Int&#62; = (1..3).asFlow()
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    try {
        simple().collect { value -&#62; print(value) }
    } finally {
        print("Done")
    }
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Declarative handling
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">simple()
    .onCompletion { println("Done") }
    .collect { value -&#62; println(value) }</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">simple()
    .onCompletion { print("Done") }
    .collect { value -&#62; print(value) }</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun simple(): Flow&#60;Int&#62; = flow {
    emit(1)
    throw RuntimeException()
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple()
        .onCompletion { cause -&#62; if (cause != null) println("Flow completed exceptionally") }
        .catch { cause -&#62; println("Caught exception") }
        .collect { value -&#62; println(value) }
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func simple(): Flow&#60;Int&#62; = flow {
    emit(1)
    throw RuntimeException()
}
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    simple()
        .onCompletion { cause -&#62; if (cause != null) print("Flow completed exceptionally") }
        .catch { cause -&#62; print("Caught exception") }
        .collect { value -&#62; print(value) }
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Successful completion
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun simple(): Flow&#60;Int&#62; = (1..3).asFlow()
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    simple()
        .onCompletion { cause -&#62; println("Flow completed with $cause") }
        .collect { value -&#62;
            check(value &#60;= 1) { "Collected $value" }                 
            println(value) 
        }
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func simple(): Flow&#60;Int&#62; = (1..3).asFlow()
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    simple()
        .onCompletion { cause -&#62; print("Flow completed with $cause") }
        .collect { value -&#62;
            check(value &#60;= 1) { "Collected $value" }                 
            print(value) 
        }
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Launching flow
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html#launching-flow" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">// Imitate a flow of events
fun events(): Flow&#60;Int&#62; = (1..3).asFlow().onEach { delay(100) }
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    events()
        .onEach { event -&#62; println("Event: $event") }
        .collect() // &#60;--- Collecting the flow waits
    println("Done")
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">// Imitate a flow of events
func events(): Flow&#60;Int&#62; = (1..3).asFlow().onEach { delay(100) }
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    events()
        .onEach { event -&#62; print("Event: $event") }
        .collect() // &#60;--- Collecting the flow waits
    print("Done")
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun main() = runBlocking&#60;Unit&#62; {
    events()
        .onEach { event -&#62; println("Event: $event") }
        .launchIn(this) // &#60;--- Launching the flow in a separate coroutine
    println("Done")
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func main() = runBlocking&#60;Unit&#62; {
    events()
        .onEach { event -&#62; print("Event: $event") }
        .launchIn(this) // &#60;--- Launching the flow in a separate coroutine
    print("Done")
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Flow cancellation checks
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html#flow-cancellation-checks" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun foo(): Flow&#60;Int&#62; = flow { 
    for (i in 1..5) {
        println("Emitting $i") 
        emit(i) 
    }
}
&#8203;
fun main() = runBlocking&#60;Unit&#62; {
    foo().collect { value -&#62; 
        if (value == 3) cancel()  
        println(value)
    } 
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func foo(): Flow&#60;Int&#62; = flow { 
    for (i in 1..5) {
        print("Emitting $i") 
        emit(i) 
    }
}
&#8203;
func main() = runBlocking&#60;Unit&#62; {
    foo().collect { value -&#62; 
        if (value == 3) cancel()  
        print(value)
    } 
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun main() = runBlocking&#60;Unit&#62; {
    (1..5).asFlow().collect { value -&#62; 
        if (value == 3) cancel()  
        println(value)
    } 
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func main() = runBlocking&#60;Unit&#62; {
    (1..5).asFlow().collect { value -&#62; 
        if (value == 3) cancel()  
        print(value)
    } 
}</code>
                  </pre>
              
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td colspan="2" style="text-align: center;">
              <h4>
                Making busy flow cancellable
                <a class="anchor" href="#https://kotlinlang.org/docs/reference/coroutines/flow.html" target="_blank"></a>
              </h4>
              </td>
            </tr>
          
        
          
          

          
            <tr>
              <td style="padding-right:10px;padding-bottom:10px">
                <pre>
                  <code class="kotlin">fun main() = runBlocking&#60;Unit&#62; {
    (1..5).asFlow().cancellable().collect { value -&#62; 
        if (value == 3) cancel()  
        println(value)
    } 
}</code>
                </pre>
              </td>

              <td style="padding-left:10px;padding-bottom:10px">
              
                  <pre>
                    <code class="swift">func main() = runBlocking&#60;Unit&#62; {
    (1..5).asFlow().cancellable().collect { value -&#62; 
        if (value == 3) cancel()  
        print(value)
    } 
}</code>
                  </pre>
              
              </td>
            </tr>
          
        

      </table>
    </div>
  </div>

  <script src="../highlight.site.pack.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
</body>

</html>
